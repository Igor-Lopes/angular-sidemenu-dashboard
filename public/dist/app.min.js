"use strict";angular.module("dashboard",["ngRoute","chart.js","angularModalService","angular-table","cgNotify","alexjoffroy.angular-loaders","ngMessages","ngAnimate","ngSanitize","ui.utils.masks","zxcvbn","validation.match"]).config(function($routeProvider,$locationProvider){$locationProvider.hashPrefix(""),$routeProvider.when("/",{templateUrl:"app/views/home/home.html",controller:"HomeCtrl as homeCtrl"}).when("/tables",{templateUrl:"app/views/uiElements/tables.html",controller:"TablesCtrl as tablesCtrl"}).when("/forms",{templateUrl:"app/views/uiElements/forms.html",controller:"FormsCtrl as formsCtrl"}).when("/buttons",{templateUrl:"app/views/uiElements/buttons.html",controller:"ButtonsCtrl as buttonsCtrl"}).when("/notifications",{templateUrl:"app/views/uiElements/notifications.html",controller:"NotificationsCtrl as notificationsCtrl"}).when("/blank",{templateUrl:"app/views/pages/blank.html",controller:"BlankCtrl as blankCtrl"}).when("/login",{templateUrl:"app/views/auth/login.html",controller:"LoginCtrl",controllerAs:"loginCtrl"}).when("/register",{templateUrl:"app/views/auth/register.html",controller:"RegisterCtrl",controllerAs:"registerCtrl"}).when("/forgot",{templateUrl:"app/views/auth/forgot.html",controller:"ForgotCtrl",controllerAs:"forgotCtrl"}).when("/reset/:token",{templateUrl:"app/views/auth/reset.html",controller:"ResetCtrl",controllerAs:"resetCtrl"}).when("/activation/:token",{templateUrl:"app/views/auth/activation.html",controller:"ActivationCtrl",controllerAs:"activationCtrl"}).otherwise({redirectTo:"/"})}).run(function($rootScope,$location){$rootScope.$on("$routeChangeStart",function(event,next,current){console.log("Route Start")}),$rootScope.$on("$routeChangeError",function(event,current,previous,rejection){console.log("Route Change Error: "+rejection),$location.path("/login")}),$rootScope.$on("$routeChangeSuccess",function(event,current,previous){void 0!==previous&&console.log("Previous Url: "+previous.originalPath),console.log("Current Url: "+current.originalPath)})}),angular.module("dashboard").controller("ActivationCtrl",["$scope",function($scope){var vm=this;vm.success=!1,vm.activationSuccess=!1,vm.danger=!0,vm.activationDanger=!0,vm.errLogin=!1,vm.resend=!1,vm.hidepassword=!0,vm.show=!0,vm.hide=!1,vm.toggle=function(param){"show"===param?(vm.hidepassword=!1,vm.show=!1,vm.hide=!0):(vm.hidepassword=!0,vm.show=!0,vm.hide=!1)},vm.close=function(code){0==code?vm.activationSuccess=!1:1==code?vm.activationDanger=!1:2==code?vm.errLogin=!1:vm.resend=!1},vm.submit=function(){vm.activationSuccess=!1,vm.errLogin=!0},vm.send=function(){vm.activationDanger=!1,vm.resend=!0}}]),angular.module("dashboard").controller("ForgotCtrl",["$scope",function($scope){var vm=this;vm.send=!1,vm.close=function(){vm.send=!1},vm.submit=function(){$scope.ForgotForm.$invalid||(vm.send=!0)}}]),angular.module("dashboard").controller("LoginCtrl",["$scope","Auth",function($scope,Auth){var vm=this;vm.hidepassword=!0,vm.show=!0,vm.hide=!1,vm.errLogin=!1,vm.toggle=function(param){"show"===param?(vm.hidepassword=!1,vm.show=!1,vm.hide=!0):(vm.hidepassword=!0,vm.show=!0,vm.hide=!1)},vm.close=function(){vm.errLogin=!1},vm.submit=function(){$scope.LoginForm.$invalid?vm.errLogin=!0:(Auth.login(vm.user.email,vm.user.password).then(function(res){console.log(res)}).catch(function(err){console.log(err)}),vm.errLogin=!1)}}]),angular.module("dashboard").controller("RegisterCtrl",["$scope","Auth",function($scope,Auth){var vm=this;vm.hidepasswordA=!0,vm.hidepasswordB=!0,vm.showA=!0,vm.hideA=!1,vm.showB=!0,vm.hideB=!1,vm.create=!0,vm.sendSuccess=!1,vm.sendDanger=!1,vm.toggle=function(param){"showA"===param?(vm.hidepasswordA=!1,vm.showA=!1,vm.hideA=!0):"hideA"===param?(vm.hidepasswordA=!0,vm.showA=!0,vm.hideA=!1):"showB"===param?(vm.hidepasswordB=!1,vm.showB=!1,vm.hideB=!0):(vm.hidepasswordB=!0,vm.showB=!0,vm.hideB=!1)},vm.submit=function(){$scope.RegisterForm.$invalid||Auth.signup(vm.user.name,vm.user.email,vm.user.password).then(function(res){vm.create=!1})},vm.send=function(){vm.sendDanger=!0},vm.close=function(code){0==code?vm.sendSuccess=!1:vm.sendDanger=!1}}]),angular.module("dashboard").controller("ResetCtrl",["$scope",function($scope){var vm=this;vm.hidepasswordA=!0,vm.hidepasswordB=!0,vm.showA=!0,vm.hideA=!1,vm.showB=!0,vm.hideB=!1,vm.resetSuccess=!1,vm.resetDanger=!1,vm.toggle=function(param){"showA"===param?(vm.hidepasswordA=!1,vm.showA=!1,vm.hideA=!0):"hideA"===param?(vm.hidepasswordA=!0,vm.showA=!0,vm.hideA=!1):"showB"===param?(vm.hidepasswordB=!1,vm.showB=!1,vm.hideB=!0):(vm.hidepasswordB=!0,vm.showB=!0,vm.hideB=!1)},vm.submit=function(){$scope.ResetForm.$invalid,vm.resetDanger=!0},vm.close=function(code){0?vm.resetSuccess=!1:vm.resetDanger=!1}}]),angular.module("dashboard").controller("HomeCtrl",["$scope","$timeout",function($scope,$timeout){var vm=this;vm.labels=["January","February","March","April","May","June","July"],vm.series=["Series A","Series B"],vm.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],vm.onClick=function(points,evt){console.log(points,evt)},$timeout(function(){vm.data=[[28,48,40,19,86,27,90],[65,59,80,81,56,55,40]]},3e3),vm.donutLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],vm.donutData=[300,500,100],vm.infos=[{label:"New Users",number:"74"},{label:"New Orders",number:"12"},{label:"Reports",number:"22"},{label:"Issues",number:"5"}]}]),angular.module("dashboard").controller("BlankCtrl",["$scope",function($scope){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("dashboard").controller("NavbarCtrl",["$scope",function($scope){}]),angular.module("dashboard").controller("ButtonsCtrl",["$scope",function($scope){}]),angular.module("dashboard").controller("FormsCtrl",["$scope",function($scope){var vm=this;vm.inputs=[],vm.alertMessage={},vm.submit=function(){$scope.sampleForm.$valid?(vm.alertMessage.type="success",vm.alertMessage.message="Form is valid !"):(vm.alertMessage.type="danger",vm.alertMessage.message="Form is invalid !"),vm.alertMessage.show=!0},vm.closeAlert=function(){vm.alertMessage.show=!1}}]),angular.module("dashboard").controller("NotificationsCtrl",["$scope",function($scope){var vm=this;vm.msg="Hello! This is a sample message!",vm.template="",vm.positions=["center","left","right"],vm.position=vm.positions[0],vm.duration=1e4,vm.demo=function(){notify({message:vm.msg,classes:vm.classes,templateUrl:vm.template,position:vm.position,duration:vm.duration})},vm.closeAll=function(){notify.closeAll()},vm.demoMessageTemplate=function(){notify({messageTemplate:'<span>This is an example using a dynamically rendered Angular template for the message text. I can have <a href="" ng-click="clickedLink()">hyperlinks</a> with ng-click or any valid Angular enhanced html.</span>',classes:vm.classes,scope:$scope,templateUrl:vm.template,position:vm.position})},vm.clickedLink=function(){notify("You clicked a link!")}}]),angular.module("dashboard").controller("TablesCtrl",["filterFilter","$scope","$http","$filter",function(filterFilter,$scope,$http,$filter){var vm=this;vm.config={itemsPerPage:5},vm.personList=[{index:1,name:"Kristin Hill",email:"kristin@hill.com"},{index:2,name:"Valerie Francis",email:"valerie@francis.com"},{index:3,name:"Bob Abbott",email:"bob@abbott.com"},{index:4,name:"Greg Boyd",email:"greg@boyd.com"},{index:5,name:"Peggy Massey",email:"peggy@massey.com"},{index:6,name:"Janet Bolton",email:"janet@bolton.com"},{index:7,name:"Maria Liu",email:"maria@liu.com"},{index:8,name:"Anne Warren",email:"anne@warren.com"},{index:9,name:"Keith Steele",email:"keith@steele.com"},{index:10,name:"Jerome Lyons",email:"jerome@lyons.com"},{index:11,name:"Jacob Stone",email:"jacob@stone.com"},{index:12,name:"Marion Dunlap",email:"marion@dunlap.com"},{index:13,name:"Stacy Robinson",email:"stacy@robinson.com"},{index:14,name:"Luis Chappell",email:"luis@chappell.com"},{index:15,name:"Kimberly Horne",email:"kimberly@horne.com"},{index:16,name:"Andy Smith",email:"andy@smith.com"}],vm.filteredList=vm.personList,vm.updateList=function(){vm.filteredList=filterFilter(vm.personList,vm.key)}}]),angular.module("dashboard").directive("linkSidebar",function(){return{restrict:"AEC",priority:100,controller:["$scope","$location",function($scope,$location){$scope.path=function(href){$location.path(href)}}],link:function(scope,iElement,iAttrs,ngModelCtrl){iElement.bind("click",function(){scope.path(iAttrs.href),scope.$apply()})}}}),angular.module("dashboard").directive("linkSidebarClose",function(){return{restrict:"AEC",priority:200,link:function(scope,iElement,iAttrs,ngModelCtrl){var width=angular.element(window).width();iElement.bind("click",function(){width<768&&(angular.element("#sidebar").removeClass("sidebar-visible"),angular.element("#navbarContainer").removeClass("layout-sidebar-l3-md-up"))})}}}),angular.module("dashboard").directive("menuSidebar",function(){return{restrict:"AEC",templateUrl:"app/directives/menuSidebar/menuSidebar.html",controller:"MenuSidebarCtrl as menuSidebarCtrl",link:function(scope,iElement,iAttrs,ngModelCtrl){var toogle=function(){angular.element("#sidebar").toggleClass("sidebar-visible"),angular.element("#navbarContainer").toggleClass("layout-sidebar-l3-md-up")};angular.element(window).width()<768&&(angular.element("#sidebar").hasClass("sidebar-visible")&&(angular.element("#sidebar").toggleClass("sidebar-visible"),angular.element("#navbarContainer").toggleClass("layout-sidebar-l3-md-up")),angular.element(".side-toogle").bind("click",function(){angular.element("#sidebar").hasClass("sidebar-visible")&&toogle()}))}}}),angular.module("dashboard").controller("MenuSidebarCtrl",["$scope",function($scope){this.menuItens=[{icon:"dashboard",label:"Dashboard",href:"/",hasSubmenu:!1,submenu:[]},{icon:"computer",label:"UI Elements",hasSubmenu:!0,submenu:[{label:"Buttons",href:"/buttons"},{label:"Forms",href:"/forms"},{label:"Tables",href:"/tables"},{label:"Notifications",href:"/notifications"}]},{icon:"chat_bubble_outline",label:"Modals",href:"/modals",hasSubmenu:!1,submenu:[]},{icon:"pie_chart",label:"Reports",hasSubmenu:!0,submenu:[{label:"Report #1",href:"/report1"},{label:"Report #2",href:"/report2"}]},{icon:"web_asset",label:"Pages",hasSubmenu:!0,submenu:[{label:"Login",href:"/login"},{label:"Blank",href:"/blank"},{label:"Forgot",href:"/forgot"},{label:"Register",href:"/register"}]}]}]),angular.module("dashboard").directive("sidebarToogler",function(){return{restrict:"AEC",link:function(scope,iElement,iAttrs,ngModelCtrl){iElement.bind("click",function(){angular.element("#sidebar").toggleClass("sidebar-visible"),angular.element("#navbarContainer").toggleClass("layout-sidebar-l3-md-up")})}}}),angular.module("dashboard").directive("strengthPassword",function(){return{restrict:"AEC",scope:{strength:"="},templateUrl:"app/directives/strengthPassword/strengthPassword.html",link:function(scope,iElement,iAttrs,ctrl){var removeColor=function(meter){angular.element("#worst").removeClass("strength-meter-"+meter),angular.element("#bad").removeClass("strength-meter-"+meter),angular.element("#weak").removeClass("strength-meter-"+meter),angular.element("#good").removeClass("strength-meter-"+meter),angular.element("#strong").removeClass("strength-meter-"+meter)},clear=function(){removeColor("worst"),removeColor("bad"),removeColor("weak"),removeColor("good"),removeColor("strong")};scope.$watch("strength",function(value){clear(),value.password?(0==value.score&&angular.element("#worst").addClass("strength-meter-worst"),1==value.score&&(angular.element("#worst").addClass("strength-meter-bad"),angular.element("#bad").addClass("strength-meter-bad")),2==value.score&&(angular.element("#worst").addClass("strength-meter-weak"),angular.element("#bad").addClass("strength-meter-weak"),angular.element("#weak").addClass("strength-meter-weak")),3==value.score&&(angular.element("#worst").addClass("strength-meter-good"),angular.element("#bad").addClass("strength-meter-good"),angular.element("#weak").addClass("strength-meter-good"),angular.element("#good").addClass("strength-meter-good")),4==value.score&&(angular.element("#worst").addClass("strength-meter-strong"),angular.element("#bad").addClass("strength-meter-strong"),angular.element("#weak").addClass("strength-meter-strong"),angular.element("#good").addClass("strength-meter-strong"),angular.element("#strong").addClass("strength-meter-strong"))):clear()})}}}),angular.module("dashboard").directive("submenuSidebar",function(){return{restrict:"AEC",link:function(scope,iElement,iAttrs,ngModelCtrl){var clear=function(){var items=angular.element(".sidebar-menuItem-button");angular.forEach(items,function(item){angular.element(item).parent().removeClass("open")})};iElement.bind("click",function(){angular.element(iElement).parent().hasClass("open")||clear(),angular.element(iElement).parent().toggleClass("open")})}}}),angular.module("dashboard").directive("uiBrCellphone",function(){return{restrict:"AEC",require:"ngModel",scope:{ngModel:"=ngModel"},controller:["$scope",function($scope){$scope.verifyPartnerPhoneNumber=function(phoneNumber,view){view.$setValidity("phoneNumberExists",!0)}}],link:function(scope,iElement,iAttrs,ngModelCtrl){ngModelCtrl.$parsers.push(function(number){var input=number.replace(/[^0-9]/g,"");return input!==number&&(ngModelCtrl.$setViewValue(input),ngModelCtrl.$render()),Number(input)}),scope.$watch("ngModel",function(value){if(value){var str=""+value,len=str.length;if(len<11||len>11)if(19==len)"55"==(country=str.slice(1,3))?"11"==(state=str.slice(5,7))||"12"==state||"13"==state||"14"==state||"15"==state||"16"==state||"17"==state||"18"==state||"19"==state||"21"==state||"22"==state||"24"==state||"27"==state||"28"==state||"31"==state||"32"==state||"33"==state||"34"==state||"35"==state||"37"==state||"38"==state||"41"==state||"42"==state||"43"==state||"44"==state||"45"==state||"46"==state||"47"==state||"48"==state||"49"==state||"51"==state||"53"==state||"54"==state||"55"==state||"61"==state||"62"==state||"63"==state||"64"==state||"65"==state||"66"==state||"67"==state||"68"==state||"69"==state||"71"==state||"73"==state||"74"==state||"75"==state||"77"==state||"79"==state||"81"==state||"82"==state||"83"==state||"84"==state||"85"==state||"86"==state||"87"==state||"88"==state||"89"==state||"91"==state||"92"==state||"93"==state||"94"==state||"95"==state||"96"==state||"97"==state||"98"==state||"99"==state?(ngModelCtrl.$setValidity("invalidCellphone",!0),scope.verifyPartnerPhoneNumber(value,ngModelCtrl)):ngModelCtrl.$setValidity("invalidCellphone",!1):(ngModelCtrl.$setValidity("phoneNumberExists",!0),ngModelCtrl.$setValidity("invalidCellphone",!1));else if(13==len)if("55"==(country=str.slice(0,2))){mask="+"+country+" "+(state="("+str.slice(2,4)+")")+" "+(initial=str.slice(4,9))+"-"+(finish=str.slice(9,13));scope.ngModel=mask}else ngModelCtrl.$setValidity("phoneNumberExists",!0),ngModelCtrl.$setValidity("invalidCellphone",!1);else ngModelCtrl.$setValidity("phoneNumberExists",!0),ngModelCtrl.$setValidity("invalidCellphone",!1);else if("55"!=str.slice(0,2)){var country="+55",state="("+str.slice(0,2)+")",initial=str.slice(2,7),finish=str.slice(7,11),mask=country+" "+state+" "+initial+"-"+finish;scope.ngModel=mask}else ngModelCtrl.$setValidity("phoneNumberExists",!0),ngModelCtrl.$setValidity("invalidCellphone",!1)}else ngModelCtrl.$setValidity("phoneNumberExists",!0),ngModelCtrl.$setValidity("invalidCellphone",!0)})}}}),angular.module("dashboard").directive("uiBrName",function(){return{restrict:"AEC",require:"ngModel",scope:{ngModel:"=ngModel"},link:function(scope,iElement,iAttrs,ngModelCtrl){ngModelCtrl.$parsers.push(function(textName){var input=textName.replace(/[^a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-+$]/g,"");return input!==textName&&(ngModelCtrl.$setViewValue(input),ngModelCtrl.$render()),String(input)}),scope.$watch("ngModel",function(value){if(value){var textValue=""+value;scope.ngModel=textValue.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()}),-1==scope.ngModel.search(" ")?ngModelCtrl.$setValidity("minname",!1):ngModelCtrl.$setValidity("minname",!0)}else ngModelCtrl.$setValidity("minname",!0)})}}}),angular.module("dashboard").directive("uiEmail",function(){return{restrict:"AEC",require:"ngModel",scope:{ngModel:"=ngModel"},controller:["$scope",function($scope){$scope.verifyPartnerEmail=function(email,view){view.$setValidity("emailExists",!0)}}],link:function(scope,iElement,iAttrs,ngModelCtrl){scope.$watch("ngModel",function(value){value&&(""+value).match(/^(([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+([;,.](([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})+)*$/)?(ngModelCtrl.$setValidity("invalidEmail",!0),scope.verifyPartnerEmail(scope.ngModel,ngModelCtrl)):ngModelCtrl.$setValidity("invalidEmail",!1)})}}}),angular.module("dashboard").service("Auth",["$http","$q",function($http,$q){var url_base="http://localhost:8080";this.signup=function(name,email,password){return $http.post(url_base+"/admins/account/signup",{name:name,email:email,password:password}).then(function(result){return result})},this.login=function(email,password){return $http.post(url_base+"/admins/auth/local/login",{email:email,password:password}).then(function(result){return result})},this.isAuthenticated=function(){return $http.get(url_base+"/admins/auth/local/login").then(function(result){console.log(result)})}}]);